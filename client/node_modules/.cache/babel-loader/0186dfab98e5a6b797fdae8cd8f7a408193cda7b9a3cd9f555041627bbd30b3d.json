{"ast":null,"code":"import _objectSpread from\"C:/Users/vales/Documents/coding/MERN Stack/mern-todo-auth/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/vales/Documents/coding/MERN Stack/mern-todo-auth/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createContext,useContext,useEffect,useReducer}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var AuthContext=/*#__PURE__*/createContext();var reducer=function reducer(state,_ref){var type=_ref.type,payload=_ref.payload;switch(type){case'LOGIN':return{user:payload};case'LOGOUT':return{user:null};default:return state;}};export var AuthProvider=function AuthProvider(_ref2){var children=_ref2.children;var _useReducer=useReducer(reducer,{user:null}),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];useEffect(function(){var user=JSON.parse(localStorage.getItem('user'));if(user){dispatch({type:'LOGIN',payload:user});}},[]);return/*#__PURE__*/_jsx(AuthContext.Provider,{value:_objectSpread(_objectSpread({},state),{},{dispatch:dispatch}),children:children});};export var useAuthContext=function useAuthContext(){return useContext(AuthContext);};","map":{"version":3,"names":["React","createContext","useContext","useEffect","useReducer","jsx","_jsx","AuthContext","reducer","state","_ref","type","payload","user","AuthProvider","_ref2","children","_useReducer","_useReducer2","_slicedToArray","dispatch","JSON","parse","localStorage","getItem","Provider","value","_objectSpread","useAuthContext"],"sources":["C:/Users/vales/Documents/coding/MERN Stack/mern-todo-auth/client/src/context/authContext.js"],"sourcesContent":["import React, { createContext, useContext, useEffect, useReducer } from 'react';\r\n\r\nconst AuthContext = createContext();\r\n\r\nconst reducer = (state, { type, payload }) => {\r\n  switch (type) {\r\n    case 'LOGIN':\r\n      return {\r\n        user: payload,\r\n      };\r\n    case 'LOGOUT':\r\n      return {\r\n        user: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const AuthProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, { user: null });\r\n\r\n  useEffect(() => {\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n    if (user) {\r\n      dispatch({ type: 'LOGIN', payload: user });\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ ...state, dispatch }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuthContext = () => useContext(AuthContext);\r\n"],"mappings":"2SAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEhF,GAAM,CAAAC,WAAW,cAAGN,aAAa,CAAC,CAAC,CAEnC,GAAM,CAAAO,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAIC,KAAK,CAAAC,IAAA,CAAwB,IAApB,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CACrC,OAAQD,IAAI,EACV,IAAK,OAAO,CACV,MAAO,CACLE,IAAI,CAAED,OACR,CAAC,CACH,IAAK,QAAQ,CACX,MAAO,CACLC,IAAI,CAAE,IACR,CAAC,CACH,QACE,MAAO,CAAAJ,KAAK,CAChB,CACF,CAAC,CACD,MAAO,IAAM,CAAAK,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAAC,KAAA,CAAqB,IAAf,CAAAC,QAAQ,CAAAD,KAAA,CAARC,QAAQ,CACrC,IAAAC,WAAA,CAA0Bb,UAAU,CAACI,OAAO,CAAE,CAAEK,IAAI,CAAE,IAAK,CAAC,CAAC,CAAAK,YAAA,CAAAC,cAAA,CAAAF,WAAA,IAAtDR,KAAK,CAAAS,YAAA,IAAEE,QAAQ,CAAAF,YAAA,IAEtBf,SAAS,CAAC,UAAM,CACd,GAAM,CAAAU,IAAI,CAAGQ,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CACrD,GAAIX,IAAI,CAAE,CACRO,QAAQ,CAAC,CAAET,IAAI,CAAE,OAAO,CAAEC,OAAO,CAAEC,IAAK,CAAC,CAAC,CAC5C,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEP,IAAA,CAACC,WAAW,CAACkB,QAAQ,EAACC,KAAK,CAAAC,aAAA,CAAAA,aAAA,IAAOlB,KAAK,MAAEW,QAAQ,CAARA,QAAQ,EAAG,CAAAJ,QAAA,CACjDA,QAAQ,CACW,CAAC,CAE3B,CAAC,CAED,MAAO,IAAM,CAAAY,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,QAAS,CAAA1B,UAAU,CAACK,WAAW,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}